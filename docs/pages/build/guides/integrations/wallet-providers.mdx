# Integration of Wallet providers ( Dynamic, Privy & Web3Auth)

## Overview

This guide provides basic instructions for integrating This guide walks you through the process of integrating popular wallet providers with Stackr Micro Rollups (MRU). By following these steps, you'll enable users to interact with the rollup using their preferred wallet provider such as social login, metamask, coinbase & much more.

## What are Wallet providers ?

Wallet providers like Web3Auth, Privy, and Dynamic offer simplified authentication and onboarding solutions for Web3 applications. They combine traditional login methods (email, social media) with crypto-native options, making it easier for both mainstream and crypto-savvy users to access decentralized apps. These providers aim to reduce friction in user onboarding while maintaining security and offering developers flexible tools for implementation.

- [**Dynamic**](https://dynamic.xyz/)
- [**Privy**](https://www.privy.io/)
- [**Web3Auth**](https://web3auth.io/)

## Prerequisites

Before you begin this tutorial, please ensure you go through the following:

- Basic understanding of the Stackr Micro rollup framework: [Zero to One](/build/zero-to-one/getting-started)
- Familiarity with frontend development (React, Vue, etc.)
- Installed dependencies for interacting with the Stackr MRU and the chosen wallet providers.

## How to build ?

::::steps

### Initalizing the Rollup

Start by initialising MRU using the @stackr/cli and selecting the template of your choice, and adding a name for your project.

```bash [Terminal]
$ npx @stackr/cli@latest init

? Pick a template > token-transfer
? Project Name > token-transfer

$ cd token-transfer
```

The MRU needs to have express server attached to it, to expose the endpoints for submitting the actions from the frontend to the MRU. `token-transfer` template comes by default with the express app endpoints.

### Adding wallet providers in the frontend

According to your choice of Wallet providers, you can follow the docs to install the required dependencies, setup the providers & add login options as required.

Follow the docs for your type of application

#### Dynamic

https://docs.dynamic.xyz/quickstart

#### Privy

https://docs.privy.io/guide/react/quickstart

#### Web3Auth

https://web3auth.io/docs/quick-start

### Interaction with the MRU using Wallet Providers

Once the setup is done, Define the action that needs to be signed by the user before sending it to the MRU.

Then use the wallet provider to get the userâ€™s signature over the action. WalletClient from viem linked to wallet provider instance is being used to sign here. In case, you are using other SDKs, refer to the wallet provider documentation guides for retrieving the signer.

```ts
const actionName = "create";

const response = await fetch(
  `http://localhost:5050/getEIP712Types/${actionName}`
);

const data = await response.json();
const eip712Types = data.eip712Types;

const domain = data.domain;
const payload = {
  address: address,
};

const signature = await walletClient.signTypedData({
  account: address,
  domain: domain,
  primaryType: "createAccount",
  types: eip712Types,
  message: payload,
});
```

Now we have signature for the action, it can be sent as an API call to the express app for submission to the MRU

```ts
const body = JSON.stringify({
  msgSender: address,
  signature,
  inputs: payload,
});

// Replace the URL with your MRU_URL
const res = await fetch(`http://localhost:5050/${actionName}`, {
  method: "POST",
  body,
  headers: {
    "Content-Type": "application/json",
  },
});
```

::::

## Next steps

That completes the guide for using wallet providers with MRU. You can further use the same logic to submit more actions to the MRU from frontend.

For a detailed step-by-step guide and an example MRU for this integration refer to the [Github Repo](https://github.com/Dhruv-2003/Walletprovider-mru-example?tab=readme-ov-file)
